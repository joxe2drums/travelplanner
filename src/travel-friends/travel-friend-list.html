<link rel="import" href="/bower_components/iron-list/iron-list.html">
<link rel="import" href="/bower_components/app-layout/app-grid/app-grid-style.html">

<link rel="import" href="/src/travel-friends/travel-friend.html">

<!--<link rel="import" href="/bower_components/app-layout/demo/sample-content.html">-->
<dom-module id="travel-friend-list">
    <template>

        <style is="custom-style" include="app-grid-style">
            :host {
                --app-grid-columns: 3;
                --app-grid-gutter: 24px;
            }
            

        </style>

        <!-- Template -->
        <div class="app-grid">
            <template is="dom-repeat" items="[[friends]]" as="friend">
                <travel-friend class="item" name="[[friend.name]]" avatar="[[friend.avatar]]" trips="[[friend.trips]]"></travel-friend>
            </template>
        </div>

        <!--
<iron-list id="list" items="[[friends]]" as="friend">
<template>
<travel-friend name="[[friend.name]]" avatar="[[friend.avatar]]" trips="[[friend.trips]]"></travel-friend>
</template>
</iron-list>
-->

    </template>

    <script>
        Polymer({

            is: 'travel-friend-list',

            properties: {
                friends: {
                    type: Array,
                    value: function() {
                        return [{
                            name: "Jack",
                            avatar: "/images/perro.jpg",
                            trips: 4
                        }, {
                            name: "Anne",
                            avatar: "http://animaleshoy.net/wp-content/uploads/2015/01/Los-gatos-nos-ignoran-1.jpg",
                            trips: 2
                        }, {
                            name: "Stephen",
                            avatar: "/images/rana.jpg",
                            trips: 0
                        }, {
                            name: "Emma",
                            avatar: "/images/tortuga.jpg",
                            trips: 1
                        }]
                    }
                },
                rendered: {
                    type: Number,
                    value: 0
                }
            },

            attached: function() {
                //                this.rendered = 0;
                //                this.addFriend({
                //                    name: 'Prueba',
                //                    avatar: '/images/perro.jpg',
                //                    trips: 3
                //                });
            },

            observers: [
                '_friendsChanged(friends)'
            ],

            behaviors: [
                //                Polymer.BehaviorName
            ],

            addFriend: function(friend) {
                this.friends.push(friend);
                this.render();
            },

            _friendsChanged: function(friends) {
                this.render();
            },

            render: function() {
                //                this.rendered += 1;
                //                this.$.list.fire('iron-resize');
            }

        });

    </script>
</dom-module>
