<link rel="import" href="/bower_components/iron-flex-layout/iron-flex-layout.html">
<link rel="import" href="/bower_components/iron-flex-layout/iron-flex-layout-classes.html">
<link rel="import" href="/bower_components/paper-fab/paper-fab.html">
<link rel="import" href="/bower_components/neon-animation/neon-animation-runner-behavior.html">
<link rel="import" href="/bower_components/neon-animation/animations/scale-up-animation.html">
<link rel="import" href="/bower_components/neon-animation/animations/scale-down-animation.html">
<link rel="import" href="travel-calendar-activity.html">

<dom-module id="travel-calendar-day">
    <template>

        <style is="custom-style" include="iron-positioning">
            :host {
                width: 100%;
                border-bottom: 2px solid var(--divider-color);
            }
            
            .flex-horizontal {
                @apply(--layout-horizontal);
            }
            
            #main_container {
                height: 150px;
                background-color: var(--primary-background-color);
                position: relative;
            }
            
            paper-fab {
                position: absolute;
                right: 12px;
                top: 47px;
                display: none;
                z-index: 3
            }
            
            .container {
                width: 100%;
                height: 100%;
            }
            
/*
            .activity {
                width: 100px;
                background: #64FFDA;
            }
*/
            
        </style>

        <div id="main_container">
            <div class="container flex-horizontal">
                <travel-calendar-activity color="#FF1744" name="Ejemplo" duration="160" description="test etst eeuw ef"></travel-calendar-activity>
                <travel-calendar-activity name="Test g d dfg dfh  hdfhd dh" duration="300" description="test etst eeuw ef"></travel-calendar-activity>
                <travel-calendar-activity color="#FFEA00" name="Holaaaaaaaaaaaaaaaaaa" duration="230" description="test etst eeuw ef"></travel-calendar-activity>
            </div>
            <paper-fab id="fabBtn" icon="add"></paper-fab>
        </div>


    </template>

    <script>
        Polymer({

            is: 'travel-calendar-day',

            properties: {
                content: Object,
                btnShown: {
                    type: Boolean,
                    value: false
                },
                animationConfig: {
                    value: function() {
                        return {
                            'showButton': {
                                // provided by neon-animation/animations/scale-up-animation.html
                                name: 'scale-up-animation',
                                node: this.$.fabBtn
                            },
                            'hideButton': {
                                // provided by neon-animation/animations/fade-out-animation.html
                                name: 'scale-down-animation',
                                node: this.$.fabBtn
                            }
                        }
                    }
                }
            },

            attached: function() {
                $(this).hover(this._mouseIn, this._mouseOut);
            },

            behaviors: [
                Polymer.NeonAnimationRunnerBehavior
            ],

            observers: [
                //                'method(property)'
            ],

            listeners: {
                'neon-animation-finish': '_hideBtnFinish'
            },
                
            _test: function() {
                console.log('test');
            },

            _mouseIn: function(e) {
                this.btnShown = true;
                this.$.fabBtn.style.display = 'inline-block';
                this.playAnimation('showButton');
            },

            _mouseOut: function(e) {
                this.btnShown = false;
                this.playAnimation('hideButton');
            },
            
            _hideBtnFinish: function(e) {
                if (!this.btnShown) {
                    this.$.fabBtn.style.display = 'none';
                }
            },
            
        });

    </script>
</dom-module>
